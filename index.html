<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Angular Material style sheet -->
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">
</head>

<body ng-app="CerealApp" ng-cloak>
    <div ng-controller="mainCtrl">
        <!--         <md-content class="md-padding" layout-xs="column" layout="column">
            <div flex-xs flex-gt-xs="50" ng-repeat="local in locals track by $index" layout-margin class="box">
                <md-card>
                    <md-card-title>
                        <md-card-title-text>
                            <span class="md-headline">{{ local.serie }}</span>
                            <span class="md-subhead">{{ local.episode }}</span>
                        </md-card-title-text>
                        <md-card-title-media>
                            <div class="md-media-lg card-media">
                                <img ng-src="./res/thumbs/archer.jpg" class="md-card-image">
                            </div>
                        </md-card-title-media>
                    </md-card-title>
                    <md-card-actions layout="row" layout-align="end center">
                        <md-button>Watch</md-button>
                        <md-button>Delete</md-button>
                    </md-card-actions>
                </md-card>
            </div>
        </md-content> -->
        <md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height-gt-md="1:1" md-row-height="2:2" md-gutter="12px" md-gutter-gt-sm="8px">
            <md-grid-tile md-rowspan="2" md-colspan="2" md-colspan-sm="1" md-colspan-xs="1" ng-repeat="local in locals track by $index" style="background: #ff8a80;">
            <!-- <md-icon md-svg-icon="./res/thumbs/archer.jpg"></md-icon> -->
            <img ng-src="{{ imagePath }}" class="md-card-image" alt="image">
                <md-grid-tile-footer>
                    <h1>{{ local.serie }} {{ local.episode }}</h1>
                </md-grid-tile-footer>
            </md-grid-tile>
        </md-grid-list>
    </div>
    <!-- Angular Material requires Angular.js Libraries -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>
    <!-- Angular Material Library -->
    <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
    <!-- Your application bootstrap  -->
    <script type="text/javascript">
    angular.module('CerealApp', ['ngMaterial'])
        .controller('mainCtrl', ['$scope', function($scope) {
            let fsExtra = require('fs-extra')
            $scope.locals = [];
            fsExtra.readFile('./backend/json/local_torrents.json', (err, data) => {
                if (err) console.error(err)
                if (data) { // Locals exists
                    $scope.locals = JSON.parse(data)
                    $scope.imagePath = './res/thumbs/maron.jpeg'
                    $scope.$apply()
                }
            })

        }]);
    require('./renderer.js')
    </script>
</body>

</html>
